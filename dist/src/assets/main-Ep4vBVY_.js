var E=Object.defineProperty;var v=(r,e,n)=>e in r?E(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n;var g=(r,e,n)=>(v(r,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const a of c.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("details").forEach(t=>{t.addEventListener("mouseover",function(){t.setAttribute("open","true")}),t.addEventListener("focus",function(){t.setAttribute("open","true")}),t.addEventListener("mouseout",function(){t.removeAttribute("open")}),t.addEventListener("blur",function(){t.removeAttribute("open")})});function e(t){fetch(t).then(u=>u.text()).then(u=>{const p=document.getElementById("insertedContent");p?p.innerHTML=u:console.error('Element with id "insertedContent" not found.')}).catch(u=>console.error(`Error fetching ${t}:`,u))}function n(t){return function(u){u.preventDefault(),e(t)}}document.querySelectorAll(".navbar-item").forEach(t=>{const u=t.getAttribute("data-page")||"";t.addEventListener("click",n(u))});function o(){const t=document.getElementById("about-section");t?t.scrollIntoView({behavior:"smooth"}):console.error("About section not found.")}const c=document.getElementById("about-link"),a=document.getElementById("about-link-sm");c?(console.log("about link found"),c.addEventListener("click",()=>{o()})):console.error("About link not found."),a?a.addEventListener("click",()=>{o()}):console.error("About link not found.");function d(){const t=document.getElementById("services-section");t?t.scrollIntoView({behavior:"smooth"}):console.error("Services section not found.")}const i=document.getElementById("services-link"),l=document.getElementById("services-link-sm");i?i.addEventListener("click",()=>{d()}):console.error("Services link not found."),l?l.addEventListener("click",()=>{d()}):console.error("Services link not found.");function f(){const t=document.getElementById("contact-section");t?t.scrollIntoView({behavior:"smooth"}):console.error("Contact section not found.")}const m=document.getElementById("contact-link"),h=document.getElementById("contact-link-sm");m?m.addEventListener("click",()=>{f()}):console.error("Contact link not found."),h?h.addEventListener("click",()=>{f()}):console.error("Contact link not found."),e("../pages/index_content.html")});window.addEventListener("scroll",function(){var r=document.querySelectorAll(".animated-content");r.forEach(function(e){var n=e.getBoundingClientRect().top,s=window.innerHeight;n-s<=0&&(e.classList.add("animate-fly-in-bottom"),e.classList.remove("opacity-0"))})});class y{constructor(e){g(this,"pages");this.pages=e}async fetchPageContent(e){return await(await fetch(e)).text()}async search(e){const n=[];for(const s of this.pages){const o=await this.fetchPageContent(s.url),c=[],a=new RegExp(e,"gi");let d;const i=o.split("<!-- products card -->");for(let l=0;l<i.length;l++){const f=i[l];for(;d=a.exec(f);)c.push(d[0]),n.push({pageUrl:s.url,section:s.sections[l],matches:[d[0]]})}}return n}}async function L(r){if(r.key==="Enter"){const n=document.getElementById("searchInput").value.trim(),s=["../pages/products.html","../pages/index_content.html","../pages/bituminous_waterproofing_membrane.html","../pages/cementitious_waterproofing.html","../pages/roof_waterproofing.html"],o=new y([]),c=[];for(const i of s){const f=(await o.fetchPageContent(i)).split("<!-- products card -->");c.push({url:i,sections:f})}o.pages=c;const a=await o.search(n),d=document.getElementById("searchResults");d.innerHTML="",a.forEach(i=>{const l=document.createElement("div");l.innerHTML=`<p>Page URL: ${i.pageUrl}</p><p>Section: ${i.section}</p>`,i.matches.forEach(f=>{const m=document.createElement("p");m.textContent=f,l.appendChild(m)}),d.appendChild(l)})}}const b=document.getElementById("searchInput");b.addEventListener("keydown",L);function I(r){fetch(r).then(e=>e.text()).then(e=>{const n=document.getElementById("insertedContent");n?n.innerHTML=e:console.error('Element with id "insertedContent" not found.')}).catch(e=>console.error("Error fetching page:",e))}document.querySelectorAll(".card").forEach(r=>{r.addEventListener("click",function(e){e.preventDefault();const n=this.getAttribute("data-page");n!=null?I(n):console.error("Data-page attribute not found on card element.")})});
